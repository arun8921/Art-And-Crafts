{% extends "Artist/header.html" %}
{% block content %}
{% load static %}
<div class="pagetitle">
    <h1>Work to Gallery</h1>
    <nav>

    </nav>
  </div>
    <section class="section" style="min-height: 500px;">
      <div class="row">
        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
          <div class="alert alert-success"> {{message }}</div>
            {% endfor %}
        </ul>
        {% endif %}
        <div class="col-lg-6">

          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Add New Work to Gallery</h5>
              <form action="/save_upload_work/" method="post" id="myform" class="row g-3" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="form-group"> <label for="">Artist Work</label>
                    <input type="text" class="form-control" id="" value="" placeholder="Artist Work" name="artist_work"> </div>
                    <div class="form-group"> <label for="">Quantity</label>
                      <input type="text" class="form-control" id="" value="" placeholder="Quantity" name="quantity"> </div>

                      <div class="form-group"> <label for="">Price</label>
                        <input type="text" class="form-control"  placeholder="Price" name="price"> </div>

                    <div class="form-group"> <label for="">Description</label>
                      <textarea name="description" class="form-control"></textarea></div>
                    <div class="form-group"> <label for="">Image</label>
                        <input type="file" class="form-control" id="" placeholder="image" name="image"> </div>
                <div class="text-center" >
                <button type="submit" class="btn btn-primary">Submit</button> </form>
</div>
<script src="{% static 'assets/Validation/jquery-1.11.1.min.js' %}"></script>
<script src="{% static 'assets/Validation/jquery_validate.js' %}"></script>
<script src="{% static 'assets/Validation/additional_validate.js' %}"></script>

                <script>
                    (function ($, W, D)
                  {
                  var JQUERY4U = {};
                  JQUERY4U.UTIL =
                      {
                          setupFormValidation: function ()
                          {
                            $.validator.addMethod(
                    "regex",
                    function(value, element, regexp) {
                        var check = false;
                        return this.optional(element) || regexp.test(value);
                    },
                    "Not a valid Input."
                );

                          //form validation rules
                          $("#myform").validate({
                            rules: {
                              artist_work: {
                                                  required: true,


                                                },
                                                description: {
                                                  required: true,


                                                },
                                                image: {
                                                  required: true,
                                                extension:'jpg|png|jpeg'

                                                },
                                                price: {
                                                  required: true,
                                                  digits:true,


                                                },
                                                quantity: {
                                                  required: true,
                                                  digits:true,


                                                },
                                              },
                                              messages: {



                              },
                              submitHandler: function (form) {
                              form.submit();
                              }
                          });
                        }
                      }
                  //when the dom has loaded setup form validation rules
                  $(D).ready(function ($) {
                      JQUERY4U.UTIL.setupFormValidation();
                  });
                  })(jQuery, window, document);
                </script>

            </div>
          </div>

        </div>


          </div></div>
        </div>
      </div>
    </section>

    {% endblock %}